--- misc/icu/source/layout/LookupProcessor.cpp	2011-02-02 12:29:54.369077099 +0000
+++ misc/build/icu/source/layout/LookupProcessor.cpp	2011-02-02 12:31:54.215503036 +0000
@@ -111,6 +115,9 @@
     for (le_uint16 lookup = 0; lookup < lookupCount; lookup += 1) {
         le_uint16 lookupListIndex = SWAPW(featureTable->lookupListIndexArray[lookup]);

+	if (lookupListIndex >= lookupSelectCount)
+	    continue;
+
         lookupSelectArray[lookupListIndex] |= featureMask;
         lookupOrderArray[store++] = lookupListIndex;
     }
@@ -170,6 +177,8 @@
         lookupSelectArray[i] = 0;
     }

+    lookupSelectCount = lookupListCount;
+
     le_int32 count, order = 0;
     le_int32 featureReferences = 0;
     const FeatureTable *featureTable = NULL;
